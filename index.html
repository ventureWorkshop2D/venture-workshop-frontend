<!DOCTYPE html>
<html>
    <head>
        <title>Home</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <meta charset="utf-8">
    </head>
    <body>
        <video id="webcam" muted playsinline autoplay></video>
        <select id="cameraSelect"></select>
        <p class="debug">nowdB: <a id="nowdB">0</a></p>
        <p class="debug">averagedB: <a id="averagedB">0</a></p>
        <p class="debug">threshold: <a id="threshold">0</a></p>
        <p>z-score: <a id="zscore">0</a></p>
        <a class="debug" onclick="upload()">업로드 (15초)</a>
        <a class="debug" onclick="dl()">다운로드</a>
        <a onclick="logout()">로그아웃</a>
        <a onclick="showSetting()">설정</a>
        
        <p class="debug" id="anomaly-status">Anomaly: No</p>
        <div id="chartContainer" style="height: 370px; width:100%;"></div>
        <div id="capturedAlert" class="toast">
            <div class="overlay">
                <div class="modal">
                    <p>이상이 감지되었습니다.</p>
                </div>
            </div>
        </div>
        <div id="settingModal" class="hidden">
            <div class="overlay">
                <div class="modal">
                    <divclass="form">
                        <h2>설정</h2>
                        <input id="settingThreshold" type="number" placeholder="민감도">
                        <button id="loginButton" onclick="saveSetting()">확인</button>
                        <button id="loginButton" onclick="hide('settingModal')">취소</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="loginModal" class="hidden">
            <div class="overlay">
                <div class="modal">
                    <div id="loginForm" class="form">
                        <img src="logo.png" width="100%" alt="logo">
                        <h2>로그인</h2>
                        <input id="loginUsername" name="username" type="text" placeholder="아이디">
                        <input id="loginPassword" name="password" type="password" placeholder="비밀번호">
                        <button id="loginButton" onclick="login()">로그인</button>
                        <p>아직 회원이 아니신가요?</p>
                        <button onclick="toggleHidden('loginForm', 'signupForm')">회원가입</button>
                    </div>
                    <div id="signupForm" class="form hidden">
                        <h2>회원가입</h2>
                        <input id="registerUsername" name="username" type="text" placeholder="아이디">
                        <input id="registerPassword" name="password" type="password" placeholder="비밀번호">
                        <input id="registerEmail" name="email" type="email" placeholder="이메일">
                        <button id="registerButton" onclick="register()">등록</button>
                        <button onclick="toggleHidden('signupForm', 'loginForm')">뒤로</button>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
        <script src="./app.js"></script>
    </body>
</html>